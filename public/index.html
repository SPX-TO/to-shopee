<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>TO Shopee beta</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>

  <div class="alert">
    ðŸ”” <strong>Sistema atualizado</strong><br>
    Atualize seus <strong>Favoritos</strong> para este novo endereÃ§o.
  </div>


  <!-- TOPO -->
  <div class="topbar">
    <h1>TO Shopee</h1>
    <button class="btn-login" onclick="abrirLoginModal()">Entrar</button>

  </div>

  <!-- CONTEÃšDO -->
  <div class="container">
    
    <h2>Buscar TO</h2>

    <input
      id="buscaInput"
      class="busca-input"
      placeholder="Digite cidade, TO ou tipo (SOC, HUB, 3PL)"
    />

    <div id="erro" class="erro"></div>
    <div id="resultados" class="resultados"></div>
  </div>
<!-- MODAL LOGIN -->
<div id="loginModal" class="modal hidden">
  <div class="modal-content">
    <button class="modal-close" onclick="fecharLoginModal()">Ã—</button>

    <h2>Acesso Administrativo</h2>

    <label>E-mail</label>
    <input id="loginEmail" type="email" placeholder="seu@email.com">

    <label>Senha</label>
    <input id="loginSenha" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">

    <button class="btn-primary" onclick="loginModal()">Entrar</button>

    <div id="loginModalError" class="login-error"></div>
  </div>
</div>

  <!-- RODAPÃ‰ -->
  <footer>
    VersÃ£o Beta
  </footer>

  <!-- JS -->
  <script src="js/tos.js"></script>

  <script>
(function keepAlive() {
  const min = 4 * 60 * 1000;   // 4 minutos
  const max = 14 * 60 * 1000;  // 14 minutos
  const next = Math.floor(Math.random() * (max - min)) + min;

  setTimeout(async () => {
    try {
      await fetch("/api/me", { credentials: "include" });
    } catch (e) {
      // silÃªncio total
    }
    keepAlive();
  }, next);
})();
</script>


</body>
</html>
